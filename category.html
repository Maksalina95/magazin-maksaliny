<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚Äî –ú–∞–≥–∞–∑–∏–Ω –ú–∞–∫—Å–∞–ª–∏–Ω—ã</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <aside>
      <h2>–ú–µ–Ω—é</h2>
      <a href="index.html">üè† –ì–ª–∞–≤–Ω–∞—è</a>
      <a href="category.html" class="active">üóÇ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏</a>
      <a href="favorites.html">‚≠ê –ò–∑–±—Ä–∞–Ω–Ω–æ–µ</a>
      <a href="delivery.html">üöö –î–æ—Å—Ç–∞–≤–∫–∞</a>
      <a href="contacts.html">üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
      <a href="address.html">üìç –ê–¥—Ä–µ—Å</a>
      <a href="terms.html">üìú –ü—Ä–∞–≤–∏–ª–∞</a>
      <a href="reviews.html">üó£ –û—Ç–∑—ã–≤—ã</a>
    </aside>

    <main>
      <h1>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤</h1>
      <div class="category-grid" id="categoryGrid">
        <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π...</p>
      </div>
    </main>
  </div>

  <script>
    const sheetId = '1gBcuPzWv_nH2i7sWyCaERVCjO-hLg8EcndPkEMlNqgw';
    const url = https://opensheet.elk.sh/${sheetId}/Sheet1;
    const categoryGrid = document.getElementById('categoryGrid');
    const shownCategories = new Set();

    fetch(url)
      .then(res => res.json())
      .then(data => {
        categoryGrid.innerHTML = '';
        data.forEach(item => {
          const cat = item['–∫–∞—Ç–µ–≥–æ—Ä–∏—è'];
          const img = item['–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ'];

          if (cat && img && !shownCategories.has(cat)) {
            shownCategories.add(cat);

            const card = document.createElement('div');
            card.className = 'category-card';
            card.onclick = () => {
              window.location.href = index.html?category=${encodeURIComponent(cat)};
            };
            card.innerHTML = `
              <img src="${img}" alt="${cat}" />
              <h3>${cat}</h3>
            `;
            categoryGrid.appendChild(card);
          }
        });
      })
      .catch(err => {
        categoryGrid.innerHTML = '<p>–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</p>';
        console.error(err);
      });
  </script>
</body>
</html>
